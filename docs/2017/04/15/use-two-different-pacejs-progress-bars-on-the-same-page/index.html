<!DOCTYPE html> <!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]--> <!--[if IE 7]><html class="no-js lt-ie9 lt-ie8"><![endif]--> <!--[if IE 8]><html class="no-js lt-ie9"><![endif]--> <!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]--> <head> <meta charset="utf-8"> <!--[if IE]><meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'><![endif]--> <meta name="viewport" content="width=device-width,initial-scale=1"> <title>Use two different Pace.js progress bars on the same page | Yi Zeng’s Blog</title> <meta name="generator" content="Jekyll v3.9.3"/> <meta property="og:title" content="Use two different Pace.js progress bars on the same page"/> <meta name="author" content="Yi Zeng"/> <meta property="og:locale" content="en"/> <meta name="description" content="A demo on how to use two different Pace.js progress bars on the same page."/> <meta property="og:description" content="A demo on how to use two different Pace.js progress bars on the same page."/> <link rel="canonical" href="http://yizeng.me/2017/04/15/use-two-different-pacejs-progress-bars-on-the-same-page/"/> <meta property="og:url" content="http://yizeng.me/2017/04/15/use-two-different-pacejs-progress-bars-on-the-same-page/"/> <meta property="og:site_name" content="Yi Zeng’s Blog"/> <meta property="og:type" content="article"/> <meta property="article:published_time" content="2017-04-15T00:00:00+02:00"/> <meta name="twitter:card" content="summary"/> <meta property="twitter:title" content="Use two different Pace.js progress bars on the same page"/> <script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Yi Zeng"},"dateModified":"2017-04-15T00:00:00+02:00","datePublished":"2017-04-15T00:00:00+02:00","description":"A demo on how to use two different Pace.js progress bars on the same page.","headline":"Use two different Pace.js progress bars on the same page","mainEntityOfPage":{"@type":"WebPage","@id":"http://yizeng.me/2017/04/15/use-two-different-pacejs-progress-bars-on-the-same-page/"},"url":"http://yizeng.me/2017/04/15/use-two-different-pacejs-progress-bars-on-the-same-page/"}</script> <meta name="keywords" content="javascript"/> <link type="application/atom+xml" rel="alternate" href="http://yizeng.me/feed.xml" title="Yi Zeng’s Blog"/> <link href='/assets/stylesheets/blog.css' rel="stylesheet" type="text/css"> <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script> <script>window.Modernizr||document.write('<script src="/assets/javascripts/modernizr-2.8.3.min.js"><\/script>');</script> <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> <script>window.jQuery||document.write('<script src="/assets/javascripts/jquery-3.3.1.min.js"><\/script>');</script> <script src="//cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/pace.min.js"></script> <script>window.Pace||document.write('<script src="/assets/javascripts/pace.min.js"><\/script>');</script> <script>(function(b,m,h,a,g){b[a]=b[a]||[];b[a].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var k=m.getElementsByTagName(h)[0],e=m.createElement(h),c=a!="dataLayer"?"&l="+a:"";e.async=true;e.src="https://www.googletagmanager.com/gtm.js?id="+g+c;k.parentNode.insertBefore(e,k)})(window,document,"script","dataLayer","GTM-P5NFP45");</script> </head> <body> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P5NFP45" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript> <!--[if IE]><p class="site-notice">You are using an outdated browser. Please <a href="http://browsehappy.com/" target="_blank">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true" target="_blank">activate Google Chrome Frame</a> to improve your experience.</p><![endif]--> <noscript> <p class="site-notice">This site requires JavaScript. Here are the instructions <a href="http://www.enable-javascript.com/" target="_blank">how to enable JavaScript in your web browser</a>.</p> </noscript> <div class="nav-wrapper overlay-wrapper"> <div class="nav-form overlay-form"> <span class="overlay-header menu">Menu</span> <a class="btn-close">Close</a> <div class="results"> <ul> <li><a href="/blog/categories/">Categories</a></li> <li><a href="/blog/tags/">Tags</a></li> <li><a href="/">About</a></li> </ul> </div> </div> </div> <div class="search-wrapper overlay-wrapper"> <div class="search-form overlay-form"> <input type="text" class="overlay-header search-field" placeholder="Search..."> <a class="btn-close">Close</a> <ul class="results"></ul> </div> </div> <div id="page" class="hentry"> <header class="the-header"> <div class="unit-head"> <div class="unit-inner unit-head-inner"> <nav class="nav-global"> <ul> <li class="logo nav-link"> <button class="btn-menu" title="Menu"></button> <a href="/blog/">Yi Zeng’s Blog</a> <!--[if !IE]>--> <button class="btn-search" title="Search"></button> <!--<![endif]--> </li> <li class="nav-link"><a title="Categories" href="/blog/categories/">Categories</a></li> <li class="nav-link"><a title="Tags" href="/blog/tags/">Tags</a></li> <!--[if !IE]>--> <li class="nav-link"><a title="Search" class="btn-search" href="#">Search</a></li> <!--<![endif]--> </ul> </nav> </div> </div> </header> <div class="body animated fadeInDown" role="main"> <div class="unit-body"> <div class="unit-inner unit-body-inner"> <div class="entry-content"> <article class="unit-article layout-post"> <div class="unit-inner unit-article-inner"> <div itemscope itemtype="http://schema.org/Article" class="content"> <header> <div class="unit-head"> <div class="unit-inner unit-head-inner"> <h1 class="entry-title" itemprop="name">Use two different Pace.js progress bars on the same page</h1> </div> </div> </header> <div class="bd article-content"> <div class="entry-content"> <div class="meta"> <p class="date-publish"> Published: <time itemprop="datePublished" class="date-pub updated" title="2017-04-15T00:00:00+02:00" datetime="2017-04-15T00:00:00+02:00">April 15, 2017 </time> by <a class="author" href="/" rel="author" title="Show Author"> <span itemprop="author" itemscope itemtype="http://schema.org/Person"> <span itemprop="name">Yi Zeng</span> </span> </a> <a class="license-icon" rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank" title="Show License"> <img alt="Creative Commons Licence" style="border-width:0" src="/assets/images/theme/cc-by-sa.png" height="16" width="80"/> </a> </p> <ul class="list-category list-linear"> <li class="list-head">Categories: </li> <li> <a href="/blog/categories/#tutorials" title="tutorials"> tutorials <span>26</span></a> </li> </ul> <ul class="list-tag list-linear"> <li class="list-head">Tags: </li> <li> <a href="/blog/tags/#javascript" title="javascript">javascript <span>4</span></a> </li> </ul> </div> <div itemprop="articleBody"> <p>I came across this problem while working on my little side project <a href="http://www.strafforts.com/">Strafforts</a> (A Visualizer for Strava Estimated Best Efforts and Races), that how to have two different <a href="http://github.hubspot.com/pace/docs/welcome/">Pace.js</a> progress bars on the same page within a single page application.</p> <p>One progress bar is a global overlay that hides the entire application until the page is loaded, while the other is a default progress bar when any Ajax is triggered without hiding any content.</p> <p>After some Googling, I found <a href="https://github.com/HubSpot/pace/issues/135">this answer</a> works like a charm. Hence I'm turning it into a simple working demo for anyone is interested.</p> <ul class="toc" id="markdown-toc"> <li><a href="#heading-demo" id="markdown-toc-heading-demo">Demo</a></li> <li><a href="#heading-add-first-progress-bar" id="markdown-toc-heading-add-first-progress-bar">Add first progress bar</a></li> <li><a href="#heading-add-second-progress-bar" id="markdown-toc-heading-add-second-progress-bar">Add second progress bar</a></li> <li><a href="#heading-make-them-working-together" id="markdown-toc-heading-make-them-working-together">Make them working together</a></li> <li><a href="#heading-demos-source-code" id="markdown-toc-heading-demos-source-code">Demo's source code</a></li> </ul> <h2 id="heading-demo">Demo</h2> <iframe src="/assets/demo/2017-04-15-use-two-different-pacejs-progress-bars-on-the-same-page.html"></iframe> <h2 id="heading-add-first-progress-bar">Add first progress bar</h2> <p>First, add an ordinary Pace.js progress bar like usual.</p> <ul> <li>Add references to <code class="language-plaintext highlighter-rouge">pace.min.js</code> and the theme CSS file.</li> </ul> <figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;head&gt;</span>
    ...
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"pace.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">"center-atom.css"</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/head&gt;</span></code></pre></figure> <ul> <li>Optionally, I want this one to be used as a global overlay, which means nothing but this progress bar is shown before page has fully loaded.</li> </ul> <figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;head&gt;</span>
    ...
    <span class="nt">&lt;style&gt;</span>
        <span class="nt">body</span><span class="o">&gt;</span> <span class="nd">:not</span><span class="o">(</span><span class="nc">.pace</span><span class="o">),</span>
        <span class="nt">body</span><span class="nd">:before</span><span class="o">,</span>
        <span class="nt">body</span><span class="nd">:after</span> <span class="p">{</span>
            <span class="nl">-webkit-transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">.4s</span> <span class="n">ease-in-out</span><span class="p">;</span>
            <span class="nl">-moz-transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">.4s</span> <span class="n">ease-in-out</span><span class="p">;</span>
            <span class="nl">-o-transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">.4s</span> <span class="n">ease-in-out</span><span class="p">;</span>
            <span class="nl">-ms-transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">.4s</span> <span class="n">ease-in-out</span><span class="p">;</span>
            <span class="nl">transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">.4s</span> <span class="n">ease-in-out</span>
        <span class="p">}</span>
        
        <span class="nt">body</span><span class="nd">:not</span><span class="o">(</span><span class="nc">.pace-done</span><span class="o">)&gt;</span> <span class="nd">:not</span><span class="o">(</span><span class="nc">.pace</span><span class="o">),</span>
        <span class="nt">body</span><span class="nd">:not</span><span class="o">(</span><span class="nc">.pace-done</span><span class="o">)</span><span class="nd">:before</span><span class="o">,</span>
        <span class="nt">body</span><span class="nd">:not</span><span class="o">(</span><span class="nc">.pace-done</span><span class="o">)</span><span class="nd">:after</span> <span class="p">{</span>
            <span class="nl">opacity</span><span class="p">:</span> <span class="m">0</span>
        <span class="p">}</span>
    <span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;/head&gt;</span></code></pre></figure> <h2 id="heading-add-second-progress-bar">Add second progress bar</h2> <p>Next step is to add another progress bar that will be shown inside application only, when there are Ajax calls, state changes, etc.</p> <figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"pace.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">"center-atom.css"</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">"minimal.css"</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="nt">/&gt;</span><span class="c">&lt;!-- Add reference to a new Pace.js theme CSS. --&gt;</span>
    ...
<span class="nt">&lt;/head&gt;</span></code></pre></figure> <h2 id="heading-make-them-working-together">Make them working together</h2> <ul> <li>Set page states</li> </ul> <p>To indicate what the state the page is currently in and which progress bar should be shown, add a class name on <code class="language-plaintext highlighter-rouge">body</code> element of the page.</p> <p>For example, add <code class="language-plaintext highlighter-rouge">.content-loading</code> class to <code class="language-plaintext highlighter-rouge">body</code> in HTML markup, which indicates the page hasn't been loaded and is in the initial state.</p> <figure class="highlight"><pre><code class="language-html" data-lang="html">...
<span class="nt">&lt;body</span> <span class="na">class=</span><span class="s">"content-loading"</span><span class="nt">&gt;</span><span class="c">&lt;!-- Add class name for initial state. --&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">onclick=</span><span class="s">"Pace.restart()"</span><span class="nt">&gt;</span>Trigger Ajax<span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">onclick=</span><span class="s">"location.reload()"</span><span class="nt">&gt;</span>Reload Page<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/body&gt;</span></code></pre></figure> <p>Then add a piece of JavaScript code to set page state (<code class="language-plaintext highlighter-rouge">.content-loading</code> class on <code class="language-plaintext highlighter-rouge">body</code>) to <code class="language-plaintext highlighter-rouge">.content-loaded</code> when Pace.js finishes page loading. Once this is executed, the in-app progress bar will be shown from then on for Ajax calls, etc.</p> <figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;head&gt;</span>
    ...
    <span class="nt">&lt;script&gt;</span>
        <span class="nx">Pace</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">hide</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="dl">"</span><span class="s2">body</span><span class="dl">"</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">classList</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="dl">'</span><span class="s1">content-loading</span><span class="dl">'</span><span class="p">);</span>
            <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="dl">"</span><span class="s2">body</span><span class="dl">"</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="dl">'</span><span class="s1">content-loaded</span><span class="dl">'</span><span class="p">);</span>
        <span class="p">});</span>
    <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span></code></pre></figure> <ul> <li>Wrap themes with unique class names</li> </ul> <p>Now the page has two states, one is the initial state where the first progress bar will be shown. The other state is when page has been loaded, the second progress bar will be shown for any Ajax calls, etc. within the application.</p> <p>Therefore CSS themes need to be updated accordingly to reflect those two states.</p> <p>If you are using CSS, update all CSS rules in both themes to be under <code class="language-plaintext highlighter-rouge">.content-loading</code> or <code class="language-plaintext highlighter-rouge">.content-loaded</code>. For example, <code class="language-plaintext highlighter-rouge">minimal.css</code> now looks like:</p> <figure class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="nc">.content-loaded</span> <span class="nc">.pace</span> <span class="p">{</span>
    <span class="na">-webkit-pointer-events</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
    <span class="nl">pointer-events</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
    <span class="na">-webkit-user-select</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
    <span class="na">-moz-user-select</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
    <span class="na">user-select</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.content-loaded</span> <span class="nc">.pace-inactive</span> <span class="p">{</span>
    <span class="nl">display</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.content-loaded</span> <span class="nc">.pace</span> <span class="nc">.pace-progress</span> <span class="p">{</span>
    <span class="nl">background</span><span class="p">:</span> <span class="mh">#29d</span><span class="p">;</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">fixed</span><span class="p">;</span>
    <span class="nl">z-index</span><span class="p">:</span> <span class="m">2000</span><span class="p">;</span>
    <span class="nl">top</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">right</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">2px</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure> <p>If you are using <a href="http://sass-lang.com/">Sass</a>, simply wrap themes with the class names like below:</p> <figure class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="c1">// center-atom.scss file</span>
<span class="nc">.content-loading</span> <span class="p">{</span>
    <span class="c1">// all theme styles.</span>
<span class="p">}</span>

<span class="c1">// minimal.scss file</span>
<span class="nc">.content-loaded</span> <span class="p">{</span>
    <span class="c1">// all theme styles.</span>
<span class="p">}</span></code></pre></figure> <ul> <li>Update overlay styles</li> </ul> <p>If global overlay style in place, the last step is to update it for <code class="language-plaintext highlighter-rouge">.content-loading</code> state only. So that content in the application will still be visible during Ajax calls.</p> <figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;head&gt;</span>
    ...
    <span class="nt">&lt;style&gt;</span>
        <span class="nc">.content-loading</span><span class="o">&gt;</span> <span class="nd">:not</span><span class="o">(</span><span class="nc">.pace</span><span class="o">),</span>
        <span class="nc">.content-loading</span><span class="nd">:before</span><span class="o">,</span>
        <span class="nc">.content-loading</span><span class="nd">:after</span> <span class="p">{</span>
            <span class="nl">-webkit-transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">.4s</span> <span class="n">ease-in-out</span><span class="p">;</span>
            <span class="nl">-moz-transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">.4s</span> <span class="n">ease-in-out</span><span class="p">;</span>
            <span class="nl">-o-transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">.4s</span> <span class="n">ease-in-out</span><span class="p">;</span>
            <span class="nl">-ms-transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">.4s</span> <span class="n">ease-in-out</span><span class="p">;</span>
            <span class="nl">transition</span><span class="p">:</span> <span class="n">opacity</span> <span class="m">.4s</span> <span class="n">ease-in-out</span>
        <span class="p">}</span>
        
        <span class="nc">.content-loading</span><span class="nd">:not</span><span class="o">(</span><span class="nc">.pace-done</span><span class="o">)&gt;</span> <span class="nd">:not</span><span class="o">(</span><span class="nc">.pace</span><span class="o">),</span>
        <span class="nc">.content-loading</span><span class="nd">:not</span><span class="o">(</span><span class="nc">.pace-done</span><span class="o">)</span><span class="nd">:before</span><span class="o">,</span>
        <span class="nc">.content-loading</span><span class="nd">:not</span><span class="o">(</span><span class="nc">.pace-done</span><span class="o">)</span><span class="nd">:after</span> <span class="p">{</span>
            <span class="nl">opacity</span><span class="p">:</span> <span class="m">0</span>
        <span class="p">}</span>
    <span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;/head&gt;</span></code></pre></figure> <h2 id="heading-demos-source-code">Demo's source code</h2> <p>See demo's on JSFiddle <a href="https://jsfiddle.net/yizeng/39oar0bw/">here</a>.</p> <script async="" src="//jsfiddle.net/yizeng/39oar0bw/embed/"></script> </div> </div> </div> <footer class="unit-foot"> <div class="unit-inner unit-foot-inner"> <div class="post-buttons"> <a class="internal gotop" href="#page" title="Back to Top">Back to Top</a> <div class="addthis_toolbox addthis_default_style addthis_32x32_style"> <small class="label">Share Post:</small> <a class="btn-share-post addthis_button_email"></a> <a class="btn-share-post addthis_button_facebook"></a> <a class="btn-share-post addthis_button_google_plusone_share"></a> <a class="btn-share-post addthis_button_reddit"></a> <a class="btn-share-post addthis_button_twitter"></a> </div> <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-53819e27689934f9"></script> </div> <nav class="pagination"> <a class="internal" rel="prev" href="/2017/02/25/convert-speed-to-pace-programmatically-using-ruby/" title=" 'Convert speed to pace programmatically using Ruby'"> ← Convert speed to pace programmatically using Ruby</a> <a class="internal" rel="next" href="/2017/05/20/add-typescript-support-to-ruby-on-rails-a-quick-and-hacky-example/" title="Next Post 'Add TypeScript support to Ruby on Rails - A quick and hacky example'">Add TypeScript support to Ruby on Rails - A quick and hacky example → </a> </nav> </div> </footer> <div class="misc-content"> <script>$(document).ready(function(){var b="ULZ0b9TFdfCUJSKQd4WCKv2v3u25YoG7YG8zXPewkWrT35lZ0Se9YnxLzoV6VM8W";var c="yizeng";var a="link:"+$(".comments .show-hidden").attr("data-disqus-url");$.ajax({type:"GET",url:"//disqus.com/api/3.0/threads/set.jsonp",data:{api_key:b,forum:c,thread:a},cache:false,dataType:"jsonp",success:function(d){if(d.response.length===1){btnText="Show Comments ("+d.response[0].posts+")";$(".comments .show-hidden").html(btnText)}}});$(".comments .show-hidden").on("click",function(){$.ajaxSetup({cache:true});$.getScript("//"+c+".disqus.com/embed.js");$.ajaxSetup({cache:false});$(this).remove()});if(/\#comments/.test(location.hash)){$(".comments .show-hidden").trigger("click")}});</script> <div class="comments"> <button class="center-block show-hidden" title="Show Comments" data-disqus-url="http://yizeng.me/2017/04/15/use-two-different-pacejs-progress-bars-on-the-same-page/">Show Comments</button> <div id="disqus_thread"></div> </div> </div> </div> </div> </article> </div> </div> </div> </div> <footer class="the-footer"> <div class="unit-foot"> <div class="unit-inner unit-foot-inner"> <div class="misc vcard"> <div class="about"> <h4><a href="/">About</a></h4> <p>Yi Zeng, a senior software engineer based in Berlin, Germany.</p> <p><small>Theme <a href="https://github.com/yizeng/jekyll-theme-simple-texture" target="_blank">Simple Texture</a> developed by <a href="http://yizeng.me" target="_blank">Yi Zeng</a>, powered by <a href="https://jekyllrb.com/" target="_blank">Jekyll</a>.</small></p> </div> <div class="social-links"> <a class="ico-rss" href="/feed.xml" rel="me" target="_blank" title="feed"></a> <a class="ico-github" href="https://github.com/yizeng/" rel="me" target="_blank" title="github"></a> <a class="ico-linkedin" href="https://www.linkedin.com/in/yizengnz/" rel="me" target="_blank" title="linkedin"></a> <a class="ico-stackoverflow" href="https://stackoverflow.com/users/1177636/yi-zeng" rel="me" target="_blank" title="stackoverflow"></a> </div> </div> </div> </div> <a href="#" class="internal back-to-top">Back to Top</a> </footer> </div> <script>$(document).ready(function(){var c=50,b=500,a=960;$(window).scroll(function(){if($(window).width()>a){if($(this).scrollTop()>c){$("footer").css("top","20px");$("footer .back-to-top").fadeIn(b)}else{$("footer").css("top","auto");$("footer .back-to-top").fadeOut(b)}}});$(window).resize(function(){if($(window).width()<a){$("footer").css("top","auto");$("footer .back-to-top").fadeOut(b)}if($(window).width()>=a&&$(this).scrollTop()>c){$("footer").css("top","20px");$("footer .back-to-top").fadeIn(b)}});$("footer .back-to-top, .gotop").on("click",function(d){d.preventDefault();$("html, body").animate({scrollTop:0},b);return false});$(".show-hidden").on("click",function(){$(this).parent().next().toggleClass("hidden");$(this).toggleClass("hidden")})});</script> <script src="/assets/javascripts/jekyll-search.jquery.js"></script> <script>$(document).ready(function(){$(".search-field").simpleJekyllSearch({jsonFile:"/search.json",template:'<li><a href="{url}">{title} <span class="entry-date"><time datetime="{date}">{shortdate}</time></span></a></li>',searchResults:".search-wrapper .results",searchResultsTitle:"<h4>Search results</h4>",noResults:"<p>Oh shucks<br/><small>Nothing found :(</small></p>"})});(function(c,b,d){var a=function(){c(".nav-wrapper, .search-wrapper").removeAttr("style");c(".nav-form, .search-form").removeClass("active");c("body").removeClass("nav-overlay search-overlay")};c(".nav-global .btn-search").on("click",function(){c(".search-wrapper").css({display:"block"});c(".search-form").addClass("active");c(".search-form").find("input").focus();c("body").addClass("search-overlay")});c(".nav-global .btn-menu").on("click",function(){c(".nav-wrapper").css({display:"block"});c(".nav-form").addClass("active");c(".nav-form .search-field").prop("disabled",true);c("body").addClass("nav-overlay")});c(".nav-wrapper .btn-close, .search-wrapper .btn-close").on("click",function(){a()});c(document).on("keyup",function(f){if(f.keyCode===27){a()}})})(jQuery,window);</script> <script src='//cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.js'></script> <script src='//cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-buttons.min.js'></script> <script src="/assets/javascripts/unveil/jquery.unveil.min.js"></script> <script>window.jQuery.fancybox||document.write('<script src="/assets/javascripts/fancybox/jquery.fancybox.pack.js?v=2.1.4"><\/script>');window.jQuery.fancybox.helpers.buttons||document.write('<script src="/assets/javascripts/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"><\/script>');</script> <script>$("head").append('<link rel="stylesheet" href="/assets/javascripts/fancybox/jquery.fancybox.css?v=2.1.4" type="text/css" />');$("head").append('<link rel="stylesheet" href="/assets/javascripts/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" />');$(".post-image").fancybox({prevEffect:"none",nextEffect:"none",closeBtn:true,helpers:{title:{type:"float"}}});$(document).ready(function(){$(".post-image > img").unveil(450)});</script> </body> </html>